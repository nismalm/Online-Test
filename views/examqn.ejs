<!DOCTYPE html>

<html lang="en">

  <head>
      <meta charset="utf-8" />
      <meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1" />
      <title>Exam | Question | INSIGHT PLUS | JEE MAINS - Mock Test</title>
      <meta content='width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=0, shrink-to-fit=no' name='viewport' />
      <!-- CSS Files -->
      <link href="../../css/bootstrap.min.css" rel="stylesheet" />
      <link href="../../css/light-bootstrap-dashboard.css" rel="stylesheet" />
      <style media="screen">
        .main-panel{
          width: 100%;
        }
        * {
          cursor: default;
          -webkit-touch-callout: none; /* iOS Safari */
            -webkit-user-select: none; /* Safari */
             -khtml-user-select: none; /* Konqueror HTML */
               -moz-user-select: none; /* Old versions of Firefox */
                -ms-user-select: none; /* Internet Explorer/Edge */
                    user-select: none; /* Non-prefixed version, currently
                                          supported by Chrome, Opera and Firefox */
        }
      </style>
  </head>
  <body>
    <div class="wrapper">
      <div class="main-panel">
        <!-- Navbar -->
        <nav class="navbar navbar-expand-lg " color-on-scroll="500">
          <div class="container-fluid">
            <a class="navbar-brand" href="#pablo"> INSIGHT PLUS | JEE MAINS MOCK TEST </a>
            <div class="collapse navbar-collapse justify-content-end" id="navigation">
              <ul class="navbar-nav ml-auto">
                <li class="nav-item">
                  <a class="nav-link" href="#">
                    <span class="no-icon">Finish Exam</span>
                  </a>
                </li>
              </ul>
            </div>
          </div>
        </nav>
        <!-- End Navbar -->
        <div class="content">
          <div class="container-fluid">
            <div class="row">
              <div class="col-8">
                <div class="card">
                  <div class="card-header">
                    <%= data.qno %>
                  </div>
                  <div class="card-body">
                    <%- data.description %>
                    <% if(data.image != ''){ %>
                      <img src="../../uploads/<%= data.image %>" class="question-image" alt="question image can't preview">
                    <% } %>
                    <% if(data.qtype == 1){ %>
                      Multiple Choice
                    <% }else{ %>
                      Numeric
                    <% } %>
                  </div>
                </div>
              </div>
              <div class="col-4">
                <div class="card">
                  <div class="card-header">
                    <div class="row">
                      <div class="col">
                        <em><%= user.regno %></em> <br>
                        <em><%= user.name %></em>
                      </div>
                      <div class="col" style="text-align: right;">
                        <strong>Time Left : <span id="demo"></span></strong>
                      </div>
                    </div>
                  </div>
                  <div class="card-body">

                  </div>
                </div>
              </div>
            </div>
          </div>
        </div>
      </div>
    </div>
    <!--   Core JS Files   -->
    <script src="../../js/jquery.3.2.1.min.js" type="text/javascript"></script>
    <script type="text/javascript">
      document.addEventListener('contextmenu', event => event.preventDefault());
      var now = new Date(`<%- user.start_time %>`);
      var threeHourLater = now.getTime() + (3*60*60*1000);
      console.log(`Now : ${now}`);
      console.log(`threeHourLater : ${new Date(threeHourLater)}`);

      // Set the date we're counting down to
      var countDownDate = new Date(threeHourLater).getTime();

      // Update the count down every 1 second
      var x = setInterval(function() {

        // Get today's date and time
        var now = new Date().getTime();

        // Find the distance between now and the count down date
        var distance = countDownDate - now;

        // Time calculations for days, hours, minutes and seconds
        var days = Math.floor(distance / (1000 * 60 * 60 * 24));
        var hours = Math.floor((distance % (1000 * 60 * 60 * 24)) / (1000 * 60 * 60));
        var minutes = Math.floor((distance % (1000 * 60 * 60)) / (1000 * 60));
        var seconds = Math.floor((distance % (1000 * 60)) / 1000);

        // Display the result in the element with id="demo"
        document.getElementById("demo").innerHTML = hours + "h "
        + minutes + "m " + seconds + "s ";

        // If the count down is finished, write some text
        if (distance < 0) {
          clearInterval(x);
          document.getElementById("demo").innerHTML = "EXPIRED";
        }
      }, 1000);
    </script>
  </body>
</html>
